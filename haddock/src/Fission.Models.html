<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-missing-export-lists #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE NoDeriveAnyClass     #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE QuasiQuotes          #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE TemplateHaskell      #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Fission.Models</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Database.Persist.Postgresql</span></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Database.Persist.TH</span></span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Aeson.Types</span></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Swagger</span></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.UUID</span></span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Network.IPFS.CID.Types</span></span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Fission.Internal.UTF8.html"><span class="hs-identifier">Fission.Internal.UTF8</span></a></span><span>                </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">UTF8</span></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Fission.Prelude.html"><span class="hs-identifier">Fission.Prelude</span></a></span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Fission.Platform.Heroku.Region.Types.html"><span class="hs-identifier">Fission.Platform.Heroku.Region.Types</span></a></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Fission.Security.html"><span class="hs-identifier">Fission.Security</span></a></span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Fission.Key.html"><span class="hs-identifier">Fission.Key</span></a></span><span>                          </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Key</span></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Fission.URL.html"><span class="hs-identifier">Fission.URL</span></a></span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Fission.User.Email.Types.html"><span class="hs-identifier">Fission.User.Email.Types</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Fission.User.Role.Types.html"><span class="hs-identifier">Fission.User.Role.Types</span></a></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Fission.User.Username.Types.html"><span class="hs-identifier">Fission.User.Username.Types</span></a></span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Fission.AWS.Zone.Types.html"><span class="hs-identifier">Fission.AWS.Zone.Types</span></a></span><span>               </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">AWS</span></span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Fission.Internal.Orphanage.CID.html"><span class="hs-identifier">Fission.Internal.Orphanage.CID</span></a></span><span>       </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Fission.Internal.Orphanage.UUID.html"><span class="hs-identifier">Fission.Internal.Orphanage.UUID</span></a></span><span>      </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span id="migrateAll"><span id="HerokuAddOnModifiedAt"><span id="HerokuAddOnInsertedAt"><span id="HerokuAddOnRegion"><span id="HerokuAddOnUuid"><span id="HerokuAddOnId"><span id="%24sel%3AunHerokuAddOnKey%3AHerokuAddOnKey"><span id="HerokuAddOnKey"><span id="UniqueUUID"><span id="UserModifiedAt"><span id="UserInsertedAt"><span id="UserSecretDigest"><span id="UserHerokuAddOnId"><span id="UserDataRoot"><span id="UserActive"><span id="UserRole"><span id="UserUsername"><span id="UserEmail"><span id="UserPublicKey"><span id="UserId"><span id="%24sel%3AunUserKey%3AUserKey"><span id="UserKey"><span id="UniquePublicKey"><span id="UniqueUsername"><span id="UpdateUserDataRootEventInsertedAt"><span id="UpdateUserDataRootEventNewDataRoot"><span id="UpdateUserDataRootEventUserId"><span id="UpdateUserDataRootEventId"><span id="%24sel%3AunUpdateUserDataRootEventKey%3AUpdateUserDataRootEventKey"><span id="UpdateUserDataRootEventKey"><span id="LoosePinInsertedAt"><span id="LoosePinCid"><span id="LoosePinOwnerId"><span id="LoosePinId"><span id="%24sel%3AunLoosePinKey%3ALoosePinKey"><span id="LoosePinKey"><span id="UniqueCidPerUser"><span id="DomainModifiedAt"><span id="DomainInsertedAt"><span id="DomainZoneId"><span id="DomainOwnerId"><span id="DomainDomainName"><span id="DomainId"><span id="%24sel%3AunDomainKey%3ADomainKey"><span id="DomainKey"><span id="UniqueZoneId"><span id="AppModifiedAt"><span id="AppInsertedAt"><span id="AppCid"><span id="AppOwnerId"><span id="AppId"><span id="%24sel%3AunAppKey%3AAppKey"><span id="AppKey"><span id="CreateAppEventInsertedAt"><span id="CreateAppEventCid"><span id="CreateAppEventOwnerId"><span id="CreateAppEventId"><span id="%24sel%3AunCreateAppEventKey%3ACreateAppEventKey"><span id="CreateAppEventKey"><span id="DestroyAppEventInsertedAt"><span id="DestroyAppEventAppId"><span id="DestroyAppEventId"><span id="%24sel%3AunDestroyAppEventKey%3ADestroyAppEventKey"><span id="DestroyAppEventKey"><span id="SetAppCIDEventInsertedAt"><span id="SetAppCIDEventNewCID"><span id="SetAppCIDEventAppId"><span id="SetAppCIDEventId"><span id="%24sel%3AunSetAppCIDEventKey%3ASetAppCIDEventKey"><span id="SetAppCIDEventKey"><span id="AppDomainInsertedAt"><span id="AppDomainIsPrimary"><span id="AppDomainSubdomain"><span id="AppDomainDomainName"><span id="AppDomainAppId"><span id="AppDomainId"><span id="%24sel%3AunAppDomainKey%3AAppDomainKey"><span id="AppDomainKey"><span id="UniqueSubdomainPerDomain"><span id="UniquePrimaryForApp"><span id="AssociateAppDomainEventInsertedAt"><span id="AssociateAppDomainEventSubdomain"><span id="AssociateAppDomainEventDomainName"><span id="AssociateAppDomainEventAppId"><span id="AssociateAppDomainEventId"><span id="%24sel%3AunAssociateAppDomainEventKey%3AAssociateAppDomainEventKey"><span id="AssociateAppDomainEventKey"><span id="DissociateAppDomainEventInsertedAt"><span id="DissociateAppDomainEventSubdomain"><span id="DissociateAppDomainEventDomainName"><span id="DissociateAppDomainEventAppId"><span id="DissociateAppDomainEventId"><span id="%24sel%3AunDissociateAppDomainEventKey%3ADissociateAppDomainEventKey"><span id="DissociateAppDomainEventKey"><span id="%24sel%3AherokuAddOnModifiedAt%3AHerokuAddOn"><span id="%24sel%3AherokuAddOnInsertedAt%3AHerokuAddOn"><span id="%24sel%3AherokuAddOnRegion%3AHerokuAddOn"><span id="%24sel%3AherokuAddOnUuid%3AHerokuAddOn"><span id="HerokuAddOn"><span id="HerokuAddOnId"><span id="%24sel%3AuserModifiedAt%3AUser"><span id="%24sel%3AuserInsertedAt%3AUser"><span id="%24sel%3AuserSecretDigest%3AUser"><span id="%24sel%3AuserHerokuAddOnId%3AUser"><span id="%24sel%3AuserDataRoot%3AUser"><span id="%24sel%3AuserActive%3AUser"><span id="%24sel%3AuserRole%3AUser"><span id="%24sel%3AuserUsername%3AUser"><span id="%24sel%3AuserEmail%3AUser"><span id="%24sel%3AuserPublicKey%3AUser"><span id="User"><span id="UserId"><span id="%24sel%3AupdateUserDataRootEventInsertedAt%3AUpdateUserDataRootEvent"><span id="%24sel%3AupdateUserDataRootEventNewDataRoot%3AUpdateUserDataRootEvent"><span id="%24sel%3AupdateUserDataRootEventUserId%3AUpdateUserDataRootEvent"><span id="UpdateUserDataRootEvent"><span id="UpdateUserDataRootEventId"><span id="%24sel%3AloosePinInsertedAt%3ALoosePin"><span id="%24sel%3AloosePinCid%3ALoosePin"><span id="%24sel%3AloosePinOwnerId%3ALoosePin"><span id="LoosePin"><span id="LoosePinId"><span id="%24sel%3AdomainModifiedAt%3ADomain"><span id="%24sel%3AdomainInsertedAt%3ADomain"><span id="%24sel%3AdomainZoneId%3ADomain"><span id="%24sel%3AdomainOwnerId%3ADomain"><span id="%24sel%3AdomainDomainName%3ADomain"><span id="Domain"><span id="DomainId"><span id="%24sel%3AappModifiedAt%3AApp"><span id="%24sel%3AappInsertedAt%3AApp"><span id="%24sel%3AappCid%3AApp"><span id="%24sel%3AappOwnerId%3AApp"><span id="App"><span id="AppId"><span id="%24sel%3AcreateAppEventInsertedAt%3ACreateAppEvent"><span id="%24sel%3AcreateAppEventCid%3ACreateAppEvent"><span id="%24sel%3AcreateAppEventOwnerId%3ACreateAppEvent"><span id="CreateAppEvent"><span id="CreateAppEventId"><span id="%24sel%3AdestroyAppEventInsertedAt%3ADestroyAppEvent"><span id="%24sel%3AdestroyAppEventAppId%3ADestroyAppEvent"><span id="DestroyAppEvent"><span id="DestroyAppEventId"><span id="%24sel%3AsetAppCIDEventInsertedAt%3ASetAppCIDEvent"><span id="%24sel%3AsetAppCIDEventNewCID%3ASetAppCIDEvent"><span id="%24sel%3AsetAppCIDEventAppId%3ASetAppCIDEvent"><span id="SetAppCIDEvent"><span id="SetAppCIDEventId"><span id="%24sel%3AappDomainInsertedAt%3AAppDomain"><span id="%24sel%3AappDomainIsPrimary%3AAppDomain"><span id="%24sel%3AappDomainSubdomain%3AAppDomain"><span id="%24sel%3AappDomainDomainName%3AAppDomain"><span id="%24sel%3AappDomainAppId%3AAppDomain"><span id="AppDomain"><span id="AppDomainId"><span id="%24sel%3AassociateAppDomainEventInsertedAt%3AAssociateAppDomainEvent"><span id="%24sel%3AassociateAppDomainEventSubdomain%3AAssociateAppDomainEvent"><span id="%24sel%3AassociateAppDomainEventDomainName%3AAssociateAppDomainEvent"><span id="%24sel%3AassociateAppDomainEventAppId%3AAssociateAppDomainEvent"><span id="AssociateAppDomainEvent"><span id="AssociateAppDomainEventId"><span id="%24sel%3AdissociateAppDomainEventInsertedAt%3ADissociateAppDomainEvent"><span id="%24sel%3AdissociateAppDomainEventSubdomain%3ADissociateAppDomainEvent"><span id="%24sel%3AdissociateAppDomainEventDomainName%3ADissociateAppDomainEvent"><span id="%24sel%3AdissociateAppDomainEventAppId%3ADissociateAppDomainEvent"><span id="DissociateAppDomainEvent"><span id="DissociateAppDomainEventId"><span id="local-6989586621680244961"><span id="local-6989586621680244963"><span id="local-6989586621680244965"><span id="local-6989586621680244968"><span id="local-6989586621680244970"><span id="local-6989586621680244972"><span id="local-6989586621680244974"><span id="local-6989586621680244976"><span id="local-6989586621680244978"><span id="local-6989586621680244980"><span id="local-6989586621680244982"><span id="local-6989586621680244984"><span id="local-6989586621680244986"><span id="local-6989586621680244988"><span id="local-6989586621680244997"><span id="local-6989586621680244999"><span id="local-6989586621680245004"><span id="local-6989586621680245007"><span id="local-6989586621680245010"><span id="local-6989586621680245015"><span id="local-6989586621680245017"><span id="local-6989586621680245019"><span id="local-6989586621680245022"><span id="local-6989586621680245024"><span id="local-6989586621680245026"><span id="local-6989586621680245028"><span id="local-6989586621680245030"><span id="local-6989586621680245032"><span id="local-6989586621680245034"><span id="local-6989586621680245036"><span id="local-6989586621680245038"><span id="local-6989586621680245040"><span id="local-6989586621680245042"><span id="local-6989586621680245051"><span id="local-6989586621680245053"><span id="local-6989586621680245058"><span id="local-6989586621680245061"><span id="local-6989586621680245064"><span id="local-6989586621680245069"><span id="local-6989586621680245071"><span id="local-6989586621680245073"><span id="local-6989586621680245076"><span id="local-6989586621680245078"><span id="local-6989586621680245080"><span id="local-6989586621680245082"><span id="local-6989586621680245084"><span id="local-6989586621680245086"><span id="local-6989586621680245088"><span id="local-6989586621680245090"><span id="local-6989586621680245092"><span id="local-6989586621680245094"><span id="local-6989586621680245096"><span id="local-6989586621680245105"><span id="local-6989586621680245107"><span id="local-6989586621680245112"><span id="local-6989586621680245115"><span id="local-6989586621680245118"><span id="local-6989586621680245123"><span id="local-6989586621680245125"><span id="local-6989586621680245127"><span id="local-6989586621680245130"><span id="local-6989586621680245132"><span id="local-6989586621680245134"><span id="local-6989586621680245136"><span id="local-6989586621680245138"><span id="local-6989586621680245140"><span id="local-6989586621680245142"><span id="local-6989586621680245144"><span id="local-6989586621680245146"><span id="local-6989586621680245148"><span id="local-6989586621680245150"><span id="local-6989586621680245159"><span id="local-6989586621680245161"><span id="local-6989586621680245166"><span id="local-6989586621680245169"><span id="local-6989586621680245172"><span id="local-6989586621680245177"><span id="local-6989586621680245179"><span id="local-6989586621680245181"><span id="local-6989586621680245184"><span id="local-6989586621680245187"><span id="local-6989586621680245190"><span id="local-6989586621680245195"><span id="local-6989586621680245197"><span id="local-6989586621680245199"><span id="local-6989586621680245201"><span id="local-6989586621680245203"><span id="local-6989586621680245205"><span id="local-6989586621680245207"><span id="local-6989586621680245209"><span id="local-6989586621680245211"><span id="local-6989586621680245213"><span id="local-6989586621680245215"><span id="local-6989586621680245224"><span id="local-6989586621680245226"><span id="local-6989586621680245228"><span id="local-6989586621680245231"><span id="local-6989586621680245233"><span id="local-6989586621680245235"><span id="local-6989586621680245237"><span id="local-6989586621680245239"><span id="local-6989586621680245241"><span id="local-6989586621680245243"><span id="local-6989586621680245245"><span id="local-6989586621680245247"><span id="local-6989586621680245249"><span id="local-6989586621680245251"><span id="local-6989586621680245260"><span id="local-6989586621680245262"><span id="local-6989586621680245267"><span id="local-6989586621680245270"><span id="local-6989586621680245273"><span id="local-6989586621680245278"><span id="local-6989586621680245280"><span id="local-6989586621680245282"><span id="local-6989586621680245285"><span id="local-6989586621680245287"><span id="local-6989586621680245289"><span id="local-6989586621680245291"><span id="local-6989586621680245293"><span id="local-6989586621680245295"><span id="local-6989586621680245297"><span id="local-6989586621680245299"><span id="local-6989586621680245301"><span id="local-6989586621680245303"><span id="local-6989586621680245305"><span id="local-6989586621680245314"><span id="local-6989586621680245316"><span id="local-6989586621680245321"><span id="local-6989586621680245324"><span id="local-6989586621680245327"><span id="local-6989586621680245332"><span id="local-6989586621680245334"><span id="local-6989586621680245336"><span id="local-6989586621680245339"><span id="local-6989586621680245341"><span id="local-6989586621680245343"><span id="local-6989586621680245345"><span id="local-6989586621680245347"><span id="local-6989586621680245349"><span id="local-6989586621680245351"><span id="local-6989586621680245353"><span id="local-6989586621680245355"><span id="local-6989586621680245357"><span id="local-6989586621680245359"><span id="local-6989586621680245368"><span id="local-6989586621680245370"><span id="local-6989586621680245375"><span id="local-6989586621680245378"><span id="local-6989586621680245381"><span id="local-6989586621680245386"><span id="local-6989586621680245388"><span id="local-6989586621680245390"><span id="local-6989586621680245393"><span id="local-6989586621680245395"><span id="local-6989586621680245397"><span id="local-6989586621680245399"><span id="local-6989586621680245401"><span id="local-6989586621680245403"><span id="local-6989586621680245405"><span id="local-6989586621680245407"><span id="local-6989586621680245409"><span id="local-6989586621680245411"><span id="local-6989586621680245413"><span id="local-6989586621680245422"><span id="local-6989586621680245424"><span id="local-6989586621680245429"><span id="local-6989586621680245432"><span id="local-6989586621680245435"><span id="local-6989586621680245440"><span id="local-6989586621680245442"><span id="local-6989586621680245444"><span id="local-6989586621680245447"><span id="local-6989586621680245449"><span id="local-6989586621680245451"><span id="local-6989586621680245453"><span id="local-6989586621680245455"><span id="local-6989586621680245457"><span id="local-6989586621680245459"><span id="local-6989586621680245461"><span id="local-6989586621680245463"><span id="local-6989586621680245465"><span id="local-6989586621680245467"><span id="local-6989586621680245476"><span id="local-6989586621680245478"><span id="local-6989586621680245483"><span id="local-6989586621680245486"><span id="local-6989586621680245489"><span id="local-6989586621680245494"><span id="local-6989586621680245496"><span id="local-6989586621680245498"><span id="local-6989586621680245501"><span id="local-6989586621680245503"><span id="local-6989586621680245505"><span id="local-6989586621680245507"><span id="local-6989586621680245509"><span id="local-6989586621680245511"><span id="local-6989586621680245513"><span id="local-6989586621680245515"><span id="local-6989586621680245517"><span id="local-6989586621680245519"><span id="local-6989586621680245521"><span id="local-6989586621680245530"><span id="local-6989586621680245532"><span id="local-6989586621680245537"><span id="local-6989586621680245540"><span id="local-6989586621680245543"><span id="local-6989586621680245548"><span id="local-6989586621680245550"><span id="local-6989586621680245552"><span id="local-6989586621680245555"><span id="local-6989586621680245557"><span id="local-6989586621680245559"><span id="local-6989586621680245561"><span id="local-6989586621680245563"><span id="local-6989586621680245565"><span id="local-6989586621680245567"><span id="local-6989586621680245569"><span id="local-6989586621680245571"><span id="local-6989586621680245573"><span id="local-6989586621680245575"><span id="local-6989586621680245584"><span id="local-6989586621680245586"><span id="local-6989586621680245591"><span id="local-6989586621680245594"><span id="local-6989586621680245597"><span id="local-6989586621680245602"><span id="local-6989586621680245604"><span id="local-6989586621680245606"><span id="local-6989586621680245608"><span id="local-6989586621680245610"><span id="local-6989586621680245612"><span id="local-6989586621680245614"><span id="local-6989586621680245616"><span id="local-6989586621680245618"><span id="local-6989586621680245620"><span id="local-6989586621680245622"><span id="local-6989586621680245624"><span id="local-6989586621680245626"><span id="local-6989586621680245628"><span id="local-6989586621680245630"><span id="local-6989586621680245632"><span id="local-6989586621680245634"><span id="local-6989586621680245636"><span id="local-6989586621680245638"><span id="local-6989586621680245640"><span id="local-6989586621680245642"><span id="local-6989586621680245644"><span id="local-6989586621680245646"><span id="local-6989586621680245648"><span id="local-6989586621680245650"><span id="local-6989586621680245652"><span id="local-6989586621680245654"><span id="local-6989586621680245656"><span id="local-6989586621680245658"><span id="local-6989586621680245660"><span id="local-6989586621680245662"><span id="local-6989586621680245664"><span id="local-6989586621680245666"><span id="local-6989586621680245668"><span id="local-6989586621680245670"><span id="local-6989586621680245672"><span id="local-6989586621680245674"><span id="local-6989586621680245676"><span id="local-6989586621680245678"><span id="local-6989586621680245680"><span id="local-6989586621680245682"><span id="local-6989586621680245684"><span id="local-6989586621680245686"><span id="local-6989586621680245688"><span id="local-6989586621680245690"><span id="local-6989586621680245692"><span id="local-6989586621680245694"><span id="local-6989586621680245696"><span id="local-6989586621680245698"><span id="local-6989586621680245700"><span id="local-6989586621680245702"><span id="local-6989586621680245704"><span id="local-6989586621680245706"><span id="local-6989586621680245708"><span id="local-6989586621680245710"><span id="local-6989586621680245712"><span id="local-6989586621680245714"><span id="local-6989586621680245716"><span id="local-6989586621680245718"><span id="local-6989586621680245720"><span id="local-6989586621680245722"><span id="local-6989586621680245724"><span id="local-6989586621680245726"><span id="local-6989586621680245728"><span id="local-6989586621680245730"><span id="local-6989586621680245732"><span id="local-6989586621680245734"><span id="local-6989586621680245737"><span id="local-6989586621680245739"><span id="local-6989586621680245741"><span id="local-6989586621680245743"><span id="local-6989586621680245745"><span id="local-6989586621680245747"><span id="local-6989586621680245749"><span id="local-6989586621680245751"><span id="local-6989586621680245753"><span id="local-6989586621680245755"><span id="local-6989586621680245757"><span id="local-6989586621680245759"><span id="local-6989586621680245761"><span id="local-6989586621680245763"><span id="local-6989586621680245765"><span id="local-6989586621680245767"><span id="local-6989586621680245769"><span id="local-6989586621680245771"><span id="local-6989586621680245774"><span id="local-6989586621680245776"><span id="local-6989586621680245778"><span id="local-6989586621680245780"><span id="local-6989586621680245782"><span id="local-6989586621680245784"><span id="local-6989586621680245786"><span id="local-6989586621680245788"><span id="local-6989586621680245790"><span id="local-6989586621680245792"><span id="local-6989586621680245794"><span id="local-6989586621680245796"><span id="local-6989586621680245798"><span id="local-6989586621680245800"><span id="local-6989586621680245802"><span id="local-6989586621680245804"><span id="local-6989586621680245806"><span id="local-6989586621680245808"><span id="local-6989586621680245810"><span id="local-6989586621680245813"><span id="local-6989586621680245815"><span id="local-6989586621680245817"><span id="local-6989586621680245819"><span id="local-6989586621680245821"><span id="local-6989586621680245823"><span id="local-6989586621680245825"><span id="local-6989586621680245827"><span id="local-6989586621680245829"><span id="local-6989586621680245831"><span id="local-6989586621680245833"><span id="local-6989586621680245835"><span id="local-6989586621680245837"><span id="local-6989586621680245839"><span id="local-6989586621680245841"><span id="local-6989586621680245843"><span id="local-6989586621680245845"><span id="local-6989586621680245847"><span id="local-6989586621680245850"><span id="local-6989586621680245852"><span id="local-6989586621680245854"><span id="local-6989586621680245856"><span id="local-6989586621680245858"><span id="local-6989586621680245860"><span id="local-6989586621680245862"><span id="local-6989586621680245864"><span id="local-6989586621680245866"><span id="local-6989586621680245868"><span id="local-6989586621680245870"><span id="local-6989586621680245872"><span id="local-6989586621680245874"><span id="local-6989586621680245876"><span id="local-6989586621680245878"><span id="local-6989586621680245880"><span id="local-6989586621680245882"><span id="local-6989586621680245884"><span id="local-6989586621680245886"><span id="local-6989586621680245889"><span id="local-6989586621680245891"><span id="local-6989586621680245893"><span id="local-6989586621680245895"><span id="local-6989586621680245897"><span id="local-6989586621680245899"><span id="local-6989586621680245901"><span id="local-6989586621680245903"><span id="local-6989586621680245905"><span id="local-6989586621680245907"><span id="local-6989586621680245909"><span id="local-6989586621680245911"><span id="local-6989586621680245913"><span id="local-6989586621680245915"><span id="local-6989586621680245917"><span id="local-6989586621680245919"><span id="local-6989586621680245921"><span id="local-6989586621680245923"><span id="local-6989586621680245926"><span id="local-6989586621680245928"><span id="local-6989586621680245930"><span id="local-6989586621680245932"><span id="local-6989586621680245934"><span id="local-6989586621680245936"><span id="local-6989586621680245938"><span id="local-6989586621680245940"><span id="local-6989586621680245942"><span id="local-6989586621680245944"><span id="local-6989586621680245946"><span id="local-6989586621680245948"><span id="local-6989586621680245950"><span id="local-6989586621680245952"><span id="local-6989586621680245954"><span id="local-6989586621680245956"><span id="local-6989586621680245959"><span id="local-6989586621680245961"><span id="local-6989586621680245963"><span id="local-6989586621680245965"><span id="local-6989586621680245967"><span id="local-6989586621680245969"><span id="local-6989586621680245971"><span id="local-6989586621680245973"><span id="local-6989586621680245975"><span id="local-6989586621680245977"><span id="local-6989586621680245979"><span id="local-6989586621680245981"><span id="local-6989586621680245983"><span id="local-6989586621680245985"><span id="local-6989586621680245987"><span id="local-6989586621680245989"><span id="local-6989586621680245991"><span id="local-6989586621680245993"><span id="local-6989586621680245996"><span id="local-6989586621680245998"><span id="local-6989586621680246000"><span id="local-6989586621680246002"><span id="local-6989586621680246004"><span id="local-6989586621680246006"><span id="local-6989586621680246008"><span id="local-6989586621680246010"><span id="local-6989586621680246012"><span id="local-6989586621680246014"><span id="local-6989586621680246016"><span id="local-6989586621680246018"><span id="local-6989586621680246020"><span id="local-6989586621680246022"><span id="local-6989586621680246024"><span id="local-6989586621680246026"><span id="local-6989586621680246028"><span id="local-6989586621680246030"><span id="local-6989586621680246032"><span id="local-6989586621680246035"><span id="local-6989586621680246037"><span id="local-6989586621680246039"><span id="local-6989586621680246041"><span id="local-6989586621680246043"><span id="local-6989586621680246045"><span id="local-6989586621680246047"><span id="local-6989586621680246049"><span id="local-6989586621680246051"><span id="local-6989586621680246053"><span id="local-6989586621680246055"><span id="local-6989586621680246057"><span id="local-6989586621680246059"><span id="local-6989586621680246061"><span id="local-6989586621680246063"><span id="local-6989586621680246065"><span id="local-6989586621680246067"><span id="local-6989586621680246069"><span id="local-6989586621680246072"><span id="local-6989586621680246074"><span id="local-6989586621680246076"><span id="local-6989586621680246078"><span id="local-6989586621680246080"><span id="local-6989586621680246082"><span id="local-6989586621680246084"><span id="local-6989586621680246086"><span id="local-6989586621680246088"><span id="local-6989586621680246090"><span id="local-6989586621680246092"><span id="local-6989586621680246094"><span id="local-6989586621680246096"><span id="local-6989586621680246098"><span id="local-6989586621680246100"><span id="local-6989586621680246102"><span id="local-6989586621680246104"><span id="local-6989586621680246106"><span id="local-6989586621680246108"><span id="local-6989586621680246111"><span id="local-6989586621680246113"><span id="local-6989586621680246115"><span id="local-6989586621680246117"><span id="local-6989586621680246119"><span id="local-6989586621680246121"><span id="local-6989586621680246123"><span id="local-6989586621680246125"><span id="local-6989586621680246127"><span id="local-6989586621680246129"><span id="local-6989586621680246131"><span id="local-6989586621680246133"><span id="local-6989586621680246135"><span id="local-6989586621680246137"><span id="local-6989586621680246139"><span id="local-6989586621680246141"><span id="local-6989586621680246143"><span id="local-6989586621680246145"><span id="local-6989586621680246148"><span id="local-6989586621680246150"><span id="local-6989586621680246152"><span id="local-6989586621680246154"><span id="local-6989586621680246156"><span id="local-6989586621680246158"><span id="local-6989586621680246160"><span id="local-6989586621680246162"><span id="local-6989586621680246164"><span id="local-6989586621680246166"><span id="local-6989586621680246168"><span id="local-6989586621680246170"><span id="local-6989586621680246172"><span id="local-6989586621680246174"><span id="local-6989586621680246176"><span id="local-6989586621680246178"><span id="local-6989586621680246181"><span id="local-6989586621680246183"><span id="local-6989586621680246185"><span id="local-6989586621680246187"><span id="local-6989586621680246189"><span id="local-6989586621680246191"><span id="local-6989586621680246193"><span id="local-6989586621680246195"><span id="local-6989586621680246197"><span id="local-6989586621680246199"><span id="local-6989586621680246201"><span id="local-6989586621680246203"><span id="local-6989586621680246205"><span id="local-6989586621680246207"><span id="local-6989586621680246209"><span id="local-6989586621680246211"><span id="local-6989586621680246213"><span id="local-6989586621680246215"><span id="local-6989586621680246218"><span id="local-6989586621680246220"><span id="local-6989586621680246222"><span id="local-6989586621680246224"><span id="local-6989586621680246226"><span id="local-6989586621680246228"><span id="local-6989586621680246230"><span id="local-6989586621680246232"><span id="local-6989586621680246234"><span id="local-6989586621680246236"><span id="local-6989586621680246238"><span id="local-6989586621680246240"><span id="local-6989586621680246242"><span id="local-6989586621680246244"><span id="local-6989586621680246246"><span id="local-6989586621680246248"><span id="local-6989586621680246251"><span id="local-6989586621680246253"><span id="local-6989586621680246255"><span id="local-6989586621680246257"><span id="local-6989586621680246259"><span id="local-6989586621680246261"><span id="local-6989586621680246263"><span id="local-6989586621680246265"><span id="local-6989586621680246267"><span id="local-6989586621680246269"><span id="local-6989586621680246271"><span id="local-6989586621680246273"><span id="local-6989586621680246275"><span id="local-6989586621680246277"><span id="local-6989586621680246279"><span id="local-6989586621680246281"><span id="local-6989586621680246283"><span id="local-6989586621680246285"><span id="local-6989586621680246288"><span id="local-6989586621680246290"><span id="local-6989586621680246292"><span id="local-6989586621680246294"><span id="local-6989586621680246296"><span id="local-6989586621680246298"><span id="local-6989586621680246300"><span id="local-6989586621680246302"><span id="local-6989586621680246304"><span id="local-6989586621680246306"><span id="local-6989586621680246308"><span id="local-6989586621680246310"><span id="local-6989586621680246312"><span id="local-6989586621680246314"><span id="local-6989586621680246316"><span id="local-6989586621680246318"><span id="local-6989586621680246321"><span id="local-6989586621680246323"><span id="local-6989586621680246325"><span id="local-6989586621680246327"><span id="local-6989586621680246329"><span id="local-6989586621680246331"><span id="local-6989586621680246333"><span id="local-6989586621680246335"><span id="local-6989586621680246337"><span id="local-6989586621680246339"><span id="local-6989586621680246341"><span id="local-6989586621680246343"><span id="local-6989586621680246345"><span id="local-6989586621680246347"><span id="local-6989586621680246349"><span id="local-6989586621680246351"><span id="local-6989586621680246353"><span id="local-6989586621680246355"><span id="local-6989586621680246358"><span id="local-6989586621680246360"><span id="local-6989586621680246362"><span id="local-6989586621680246364"><span id="local-6989586621680246366"><span id="local-6989586621680246368"><span id="local-6989586621680246370"><span id="local-6989586621680246372"><span id="local-6989586621680246374"><span id="local-6989586621680246376"><span id="local-6989586621680246378"><span id="local-6989586621680246380"><span id="local-6989586621680246382"><span id="local-6989586621680246384"><span id="local-6989586621680246386"><span id="local-6989586621680246388"><span id="local-6989586621680246391"><span id="local-6989586621680246393"><span id="local-6989586621680246395"><span id="local-6989586621680246397"><span id="local-6989586621680246399"><span id="local-6989586621680246401"><span id="local-6989586621680246403"><span id="local-6989586621680246405"><span id="local-6989586621680246407"><span id="local-6989586621680246409"><span id="local-6989586621680246411"><span id="local-6989586621680246413"><span id="local-6989586621680246415"><span id="local-6989586621680246417"><span id="local-6989586621680246419"><span id="local-6989586621680246421"><span id="local-6989586621680246423"><span id="local-6989586621680246425"><span id="local-6989586621680246428"><span id="local-6989586621680246430"><span id="local-6989586621680246432"><span id="local-6989586621680246434"><span id="local-6989586621680246436"><span id="local-6989586621680246438"><span id="local-6989586621680246440"><span id="local-6989586621680246442"><span id="local-6989586621680246444"><span id="local-6989586621680246446"><span id="local-6989586621680246448"><span id="local-6989586621680246450"><span id="local-6989586621680246452"><span id="local-6989586621680246454"><span id="local-6989586621680246456"><span id="local-6989586621680246458"><span id="local-6989586621680246460"><span id="local-6989586621680246462"><span id="local-6989586621680246464"><span id="local-6989586621680246467"><span id="local-6989586621680246469"><span id="local-6989586621680246471"><span id="local-6989586621680246473"><span id="local-6989586621680246475"><span id="local-6989586621680246477"><span id="local-6989586621680246479"><span id="local-6989586621680246481"><span id="local-6989586621680246483"><span id="local-6989586621680246485"><span id="local-6989586621680246487"><span id="local-6989586621680246489"><span id="local-6989586621680246491"><span id="local-6989586621680246493"><span id="local-6989586621680246495"><span id="local-6989586621680246497"><span id="local-6989586621680246499"><span id="local-6989586621680246501"><span id="local-6989586621680246504"><span id="local-6989586621680246506"><span id="local-6989586621680246508"><span id="local-6989586621680246510"><span id="local-6989586621680246512"><span id="local-6989586621680246514"><span id="local-6989586621680246516"><span id="local-6989586621680246518"><span id="local-6989586621680246520"><span id="local-6989586621680246522"><span id="local-6989586621680246524"><span id="local-6989586621680246526"><span id="local-6989586621680246528"><span id="local-6989586621680246530"><span id="local-6989586621680246532"><span id="local-6989586621680246534"><span id="local-6989586621680246537"><span id="local-6989586621680246539"><span id="local-6989586621680246541"><span id="local-6989586621680246543"><span id="local-6989586621680246545"><span id="local-6989586621680246547"><span id="local-6989586621680246549"><span id="local-6989586621680246551"><span id="local-6989586621680246553"><span id="local-6989586621680246555"><span id="local-6989586621680246557"><span id="local-6989586621680246559"><span id="local-6989586621680246561"><span id="local-6989586621680246563"><span id="local-6989586621680246565"><span id="local-6989586621680246567"><span id="local-6989586621680246569"><span id="local-6989586621680246571"><span id="local-6989586621680246574"><span id="local-6989586621680246576"><span id="local-6989586621680246578"><span id="local-6989586621680246580"><span id="local-6989586621680246582"><span id="local-6989586621680246584"><span id="local-6989586621680246586"><span id="local-6989586621680246588"><span id="local-6989586621680246590"><span id="local-6989586621680246592"><span id="local-6989586621680246593"><span id="local-6989586621680246594"><span id="local-6989586621680246595"><span id="local-6989586621680246596"><span id="local-6989586621680246597"><span id="local-6989586621680246598"><span id="local-6989586621680246599"><span id="local-6989586621680246600"><span id="local-6989586621680246601"><span id="local-6989586621680246602"><span id="local-6989586621680246603"><span id="local-6989586621680246604"><span id="local-6989586621680246605"><span id="local-6989586621680246606"><span id="local-6989586621680246607"><span id="local-6989586621680246608"><span id="local-6989586621680246609"><span id="local-6989586621680246610"><span id="local-6989586621680246611"><span id="local-6989586621680246612"><span id="local-6989586621680246613"><span id="local-6989586621680246614"><span id="local-6989586621680246615"><span id="Unique"><span id="EntityField"><span id="PersistEntityBackend"><span id="HerokuAddOn"><span id="User"><span id="UpdateUserDataRootEvent"><span id="LoosePin"><span id="Domain"><span id="App"><span id="CreateAppEvent"><span id="DestroyAppEvent"><span id="SetAppCIDEvent"><span id="AppDomain"><span id="AssociateAppDomainEvent"><span id="Key"><span id="DissociateAppDomainEvent"><span class="hs-identifier">share</span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="hs-identifier">mkPersist</span><span>       </span><span class="hs-identifier">sqlSettings</span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">mkDeleteCascade</span><span> </span><span class="hs-identifier">sqlSettings</span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">mkMigrate</span><span>       </span><span class="hs-string">&quot;migrateAll&quot;</span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-special">]</span><span> </span><span class="">[persistLowerCase|
HerokuAddOn
  uuid       UUID         sqltype=uuid
  region     Region Maybe

  insertedAt UTCTime
  modifiedAt UTCTime

  UniqueUUID uuid

  deriving Show Eq

--------------------------------------------------------------------------------

User
  publicKey     Key.Public    Maybe

  email         Email         Maybe
  username      Username

  role          Role
  active        Bool

  dataRoot      CID

  herokuAddOnId HerokuAddOnId Maybe
  secretDigest  SecretDigest  Maybe

  insertedAt    UTCTime
  modifiedAt    UTCTime

  UniqueUsername  username
  UniquePublicKey publicKey !force
  -- UniqueEmail     email     !force -- FIXME

  deriving Show Eq

------------
-- Events --
------------

UpdateUserDataRootEvent
  userId      UserId
  newDataRoot CID

  insertedAt  UTCTime

  deriving Show Eq

--------------------------------------------------------------------------------

LoosePin
  ownerId    UserId
  cid        CID

  insertedAt UTCTime

  UniqueCidPerUser ownerId cid

  deriving Show Eq

--------------------------------------------------------------------------------

Domain
  domainName DomainName

  ownerId    UserId
  zoneId     AWS.ZoneID

  insertedAt UTCTime
  modifiedAt UTCTime

  Primary      domainName
  UniqueZoneId zoneId

  deriving Show Eq

--------------------------------------------------------------------------------

App
  ownerId     UserId
  cid         CID

  insertedAt  UTCTime
  modifiedAt  UTCTime

  deriving Show Eq

------------
-- Events --
------------

CreateAppEvent
  ownerId     UserId
  cid         CID

  insertedAt  UTCTime

  deriving Show Eq

DestroyAppEvent
  appId      AppId
  insertedAt UTCTime

  deriving Show Eq

SetAppCIDEvent
  appId  AppId
  newCID CID

  insertedAt UTCTime

  deriving Show Eq

--------------------------------------------------------------------------------

AppDomain
  appId         AppId

  domainName    DomainName
  subdomain     Subdomain Maybe

  isPrimary     Checkmark nullable

  insertedAt    UTCTime

  UniquePrimaryForApp      appId      isPrimary !force
  UniqueSubdomainPerDomain domainName subdomain !force

  deriving Show Eq

------------
-- Events --
------------

AssociateAppDomainEvent
  appId      AppId

  domainName DomainName
  subdomain  Subdomain Maybe

  insertedAt UTCTime

  deriving Show Eq

DissociateAppDomainEvent
  appId      AppId

  domainName DomainName
  subdomain  Subdomain Maybe

  insertedAt UTCTime

  deriving Show Eq
|]</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span class="hs-comment">------------</span><span>
</span><span id="line-198"></span><span class="hs-comment">-- UserId --</span><span>
</span><span id="line-199"></span><span class="hs-comment">------------</span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680244755"><span class="annot"><span class="hs-identifier hs-type">Arbitrary</span></span><span> </span><span class="annot"><a href="Fission.Models.html#UserId"><span class="hs-identifier hs-type">UserId</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-202"></span><span>  </span><span id="local-6989586621680244753"><span class="annot"><span class="annottext">arbitrary :: Gen (Key User)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">arbitrary</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Key User
forall record.
ToBackendKey SqlBackend record =&gt;
Int64 -&gt; Key record
</span><span class="hs-identifier hs-var">toSqlKey</span></span><span> </span><span class="annot"><span class="annottext">(Int64 -&gt; Key User) -&gt; Gen Int64 -&gt; Gen (Key User)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Gen Int64
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680244747"><span class="annot"><span class="hs-identifier hs-type">Display</span></span><span> </span><span class="annot"><a href="Fission.Models.html#UserId"><span class="hs-identifier hs-type">UserId</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-205"></span><span>  </span><span id="local-6989586621680244745"><span class="annot"><span class="annottext">display :: Key User -&gt; Utf8Builder
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">display</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Key User -&gt; Utf8Builder
forall a. Show a =&gt; a -&gt; Utf8Builder
</span><span class="hs-identifier hs-var">displayShow</span></span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Fission.Security.html#Digestable"><span class="hs-identifier hs-type">Digestable</span></a></span><span> </span><span class="annot"><a href="Fission.Models.html#UserId"><span class="hs-identifier hs-type">UserId</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-208"></span><span>  </span><span id="local-6989586621680244740"><span class="annot"><span class="annottext">digest :: Key User -&gt; Text
</span><a href="Fission.Security.html#digest"><span class="hs-identifier hs-var hs-var hs-var hs-var">digest</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text
forall a. Digestable a =&gt; a -&gt; Text
</span><a href="Fission.Security.html#digest"><span class="hs-identifier hs-var">digest</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text) -&gt; (Key User -&gt; Text) -&gt; Key User -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Key User -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="Fission.Internal.UTF8.html#textShow"><span class="hs-identifier hs-var">UTF8.textShow</span></a></span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToSchema</span></span><span> </span><span class="annot"><a href="Fission.Models.html#UserId"><span class="hs-identifier hs-type">UserId</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-211"></span><span>  </span><span id="local-6989586621680244734"><span class="annot"><span class="annottext">declareNamedSchema :: Proxy (Key User) -&gt; Declare (Definitions Schema) NamedSchema
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">declareNamedSchema</span></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-212"></span><span>    </span><span class="annot"><span class="annottext">Schema
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-213"></span><span>      </span><span class="annot"><span class="annottext">Schema -&gt; (Schema -&gt; Schema) -&gt; Schema
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">|&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (SwaggerType 'SwaggerKindSchema)
 -&gt; Identity (Maybe (SwaggerType 'SwaggerKindSchema)))
-&gt; Schema -&gt; Identity Schema
forall s a. HasType s a =&gt; Lens' s a
</span><span class="hs-identifier hs-var">type_</span></span><span> </span><span class="annot"><span class="annottext">((Maybe (SwaggerType 'SwaggerKindSchema)
  -&gt; Identity (Maybe (SwaggerType 'SwaggerKindSchema)))
 -&gt; Schema -&gt; Identity Schema)
-&gt; SwaggerType 'SwaggerKindSchema -&gt; Schema -&gt; Schema
forall s t a b. ASetter s t a (Maybe b) -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">?~</span></span><span> </span><span class="annot"><span class="annottext">SwaggerType 'SwaggerKindSchema
forall (t :: SwaggerKind *). SwaggerType t
</span><span class="hs-identifier hs-var">SwaggerInteger</span></span><span>
</span><span id="line-214"></span><span>      </span><span class="annot"><span class="annottext">Schema -&gt; (Schema -&gt; NamedSchema) -&gt; NamedSchema
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">|&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe Text -&gt; Schema -&gt; NamedSchema
</span><span class="hs-identifier hs-var">NamedSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Maybe Text
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="hs-string">&quot;UserId&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span>      </span><span class="annot"><span class="annottext">NamedSchema
-&gt; (NamedSchema -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; Declare (Definitions Schema) NamedSchema
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">|&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamedSchema -&gt; Declare (Definitions Schema) NamedSchema
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span class="hs-comment">-----------</span><span>
</span><span id="line-218"></span><span class="hs-comment">-- AppId --</span><span>
</span><span id="line-219"></span><span class="hs-comment">-----------</span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680244725"><span class="annot"><span class="hs-identifier hs-type">Arbitrary</span></span><span> </span><span class="annot"><a href="Fission.Models.html#AppId"><span class="hs-identifier hs-type">AppId</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-222"></span><span>  </span><span id="local-6989586621680244724"><span class="annot"><span class="annottext">arbitrary :: Gen (Key App)
</span><a href="#local-6989586621680244724"><span class="hs-identifier hs-var hs-var hs-var hs-var">arbitrary</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Key App
forall record.
ToBackendKey SqlBackend record =&gt;
Int64 -&gt; Key record
</span><span class="hs-identifier hs-var">toSqlKey</span></span><span> </span><span class="annot"><span class="annottext">(Int64 -&gt; Key App) -&gt; Gen Int64 -&gt; Gen (Key App)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Gen Int64
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToSchema</span></span><span> </span><span class="annot"><a href="Fission.Models.html#AppId"><span class="hs-identifier hs-type">AppId</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-225"></span><span>  </span><span id="local-6989586621680244722"><span class="annot"><span class="annottext">declareNamedSchema :: Proxy (Key App) -&gt; Declare (Definitions Schema) NamedSchema
</span><a href="#local-6989586621680244722"><span class="hs-identifier hs-var hs-var hs-var hs-var">declareNamedSchema</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-226"></span><span>    </span><span class="annot"><span class="annottext">Schema
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-227"></span><span>      </span><span class="annot"><span class="annottext">Schema -&gt; (Schema -&gt; Schema) -&gt; Schema
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">|&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (SwaggerType 'SwaggerKindSchema)
 -&gt; Identity (Maybe (SwaggerType 'SwaggerKindSchema)))
-&gt; Schema -&gt; Identity Schema
forall s a. HasType s a =&gt; Lens' s a
</span><span class="hs-identifier hs-var">type_</span></span><span> </span><span class="annot"><span class="annottext">((Maybe (SwaggerType 'SwaggerKindSchema)
  -&gt; Identity (Maybe (SwaggerType 'SwaggerKindSchema)))
 -&gt; Schema -&gt; Identity Schema)
-&gt; SwaggerType 'SwaggerKindSchema -&gt; Schema -&gt; Schema
forall s t a b. ASetter s t a (Maybe b) -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">?~</span></span><span> </span><span class="annot"><span class="annottext">SwaggerType 'SwaggerKindSchema
forall (t :: SwaggerKind *). SwaggerType t
</span><span class="hs-identifier hs-var">SwaggerInteger</span></span><span>
</span><span id="line-228"></span><span>      </span><span class="annot"><span class="annottext">Schema -&gt; (Schema -&gt; NamedSchema) -&gt; NamedSchema
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">|&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe Text -&gt; Schema -&gt; NamedSchema
</span><span class="hs-identifier hs-var">NamedSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Maybe Text
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="hs-string">&quot;AppId&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span>      </span><span class="annot"><span class="annottext">NamedSchema
-&gt; (NamedSchema -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; Declare (Definitions Schema) NamedSchema
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">|&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamedSchema -&gt; Declare (Definitions Schema) NamedSchema
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToParamSchema</span></span><span> </span><span class="annot"><a href="Fission.Models.html#AppId"><span class="hs-identifier hs-type">AppId</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-232"></span><span>  </span><span id="local-6989586621680244719"><span class="annot"><span class="annottext">toParamSchema :: Proxy (Key App) -&gt; ParamSchema t
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toParamSchema</span></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ParamSchema t
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span> </span><span class="annot"><span class="annottext">ParamSchema t -&gt; (ParamSchema t -&gt; ParamSchema t) -&gt; ParamSchema t
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">|&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (SwaggerType t) -&gt; Identity (Maybe (SwaggerType t)))
-&gt; ParamSchema t -&gt; Identity (ParamSchema t)
forall s a. HasType s a =&gt; Lens' s a
</span><span class="hs-identifier hs-var">type_</span></span><span> </span><span class="annot"><span class="annottext">((Maybe (SwaggerType t) -&gt; Identity (Maybe (SwaggerType t)))
 -&gt; ParamSchema t -&gt; Identity (ParamSchema t))
-&gt; SwaggerType t -&gt; ParamSchema t -&gt; ParamSchema t
forall s t a b. ASetter s t a (Maybe b) -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">?~</span></span><span> </span><span class="annot"><span class="annottext">SwaggerType t
forall (t :: SwaggerKind *). SwaggerType t
</span><span class="hs-identifier hs-var">SwaggerString</span></span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680244714"><span class="annot"><span class="hs-identifier hs-type">Display</span></span><span> </span><span class="annot"><a href="Fission.Models.html#AppId"><span class="hs-identifier hs-type">AppId</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-235"></span><span>  </span><span id="local-6989586621680244713"><span class="annot"><span class="annottext">display :: Key App -&gt; Utf8Builder
</span><a href="#local-6989586621680244713"><span class="hs-identifier hs-var hs-var hs-var hs-var">display</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Key App -&gt; Utf8Builder
forall a. Show a =&gt; a -&gt; Utf8Builder
</span><span class="hs-identifier hs-var">displayShow</span></span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680244710"><span class="annot"><span class="hs-identifier hs-type">ToJSONKey</span></span><span> </span><span class="annot"><a href="Fission.Models.html#AppId"><span class="hs-identifier hs-type">AppId</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-238"></span><span>  </span><span id="local-6989586621680244708"><span class="annot"><span class="annottext">toJSONKey :: ToJSONKeyFunction (Key App)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSONKey</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Key App -&gt; Text) -&gt; ToJSONKeyFunction (Key App)
forall a. (a -&gt; Text) -&gt; ToJSONKeyFunction a
</span><span class="hs-identifier hs-var">toJSONKeyText</span></span><span> </span><span class="annot"><span class="annottext">Key App -&gt; Text
forall a. Display a =&gt; a -&gt; Text
</span><span class="hs-identifier hs-var">textDisplay</span></span><span>
</span><span id="line-239"></span></pre></body></html>